"use strict";(self.webpackChunkjio_design_system=self.webpackChunkjio_design_system||[]).push([[5114],{25114:(e,l,t)=>{t.r(l),t.d(l,{default:()=>w});var a=t(89379),n=t(9950),i=t(27321),o=t(32284),r=t(91651),s=t(6503),d=t(56141),c=t(94837),u=t(11739),x=t(67479),h=t(58227),m=t(17859),j=t(32899),f=t(33176),b=t(44414);const _=[{value:"C",label:"\uc0dd\uc131(Create)"},{value:"R",label:"\uc870\ud68c(Read)"},{value:"U",label:"\uc218\uc815(Update)"},{value:"D",label:"\uc0ad\uc81c(Delete)"}],p=[{value:"true",label:"\uc0ac\uc6a9"},{value:"false",label:"\ubbf8\uc0ac\uc6a9"}],g=[{field:"depth",headerName:"LEVEL",width:80,align:"center"},{field:"id",headerName:"\uba54\ub274ID",width:120},{field:"menu_name",headerName:"\uba54\ub274\uba85",flex:1,minWidth:150,valueGetter:(e,l)=>"\u3000".repeat(l.depth)+e},{field:"parent_id",headerName:"\uc0c1\uc704\uba54\ub274",width:100},{field:"sort_order",headerName:"\uc815\ub82c",type:"number",width:80,align:"center"}],v=[{field:"id",headerName:"\uc624\ube0c\uc81d\ud2b8ID",width:120},{field:"object_name",headerName:"\uc624\ube0c\uc81d\ud2b8\uba85",flex:1,minWidth:120},{field:"action_url",headerName:"\uc561\uc158 URL",flex:1.5,minWidth:180},{field:"action_type",headerName:"\ub3d9\uc791",width:80,align:"center",valueGetter:e=>({C:"\uc0dd\uc131",R:"\uc870\ud68c",U:"\uc218\uc815",D:"\uc0ad\uc81c"}[e]||e)},{field:"log_yn",headerName:"\ub85c\uadf8",width:80,align:"center",valueGetter:e=>e?"Y":"N"}],y={id:"",object_name:"",action_url:"",action_type:"R",sort_order:1,log_yn:"true"};function w(){const[e,l]=(0,n.useState)([]),[t,w]=(0,n.useState)([]),[A,C]=(0,n.useState)(null),[S,k]=(0,n.useState)([]),[D,M]=(0,n.useState)([]),[N,F]=(0,n.useState)(null),[R,W]=(0,n.useState)(null),[O,q]=(0,n.useState)(!1),[G,L]=(0,n.useState)(null),[B,I]=(0,n.useState)(null),[U,z]=(0,n.useState)(""),[J,E]=(0,n.useState)(y),[T,Y]=(0,n.useState)(!1),[H,P]=(0,n.useState)(y),[V,K]=(0,n.useState)(!1),Q=(0,n.useCallback)(async()=>{q(!0),L(null);const{menus:e,error:t}=await f.c8.getMenus();t?L(t):(l(e),w(e)),q(!1)},[]),X=(0,n.useCallback)(async e=>{q(!0);const{objects:l,error:t}=await f.c8.getMenuObjects(e,"basic");t||k(l);const{objects:a,error:n}=await f.c8.getMenuObjects(e,"additional");n||M(a),q(!1)},[]);(0,n.useEffect)(()=>{Q()},[Q]),(0,n.useEffect)(()=>{A?(X(A.id),E(y),P(y),F(null),W(null),Y(!1),K(!1)):(k([]),M([]))},[A,X]);const Z=e=>{const{name:l,value:t}=e.target;E(e=>(0,a.A)((0,a.A)({},e),{},{[l]:t})),Y(!0)},$=e=>{const{name:l,value:t}=e.target;E(e=>(0,a.A)((0,a.A)({},e),{},{[l]:t})),Y(!0)},ee=e=>{const{name:l,value:t}=e.target;P(e=>(0,a.A)((0,a.A)({},e),{},{[l]:t})),K(!0)},le=e=>{const{name:l,value:t}=e.target;P(e=>(0,a.A)((0,a.A)({},e),{},{[l]:t})),K(!0)};return(0,b.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:0,p:3},children:[(0,b.jsx)(u.od,{title:"\uba54\ub274 OBJ \uad00\ub9ac",children:(0,b.jsx)(j.U9,{onClick:()=>{z(""),w(e)}})}),G&&(0,b.jsx)(o.A,{severity:"error",sx:{mb:2},onClose:()=>L(null),children:G}),B&&(0,b.jsx)(o.A,{severity:"success",sx:{mb:2},onClose:()=>I(null),children:B}),(0,b.jsxs)(u.q,{children:[(0,b.jsx)(x.z,{label:"\uba54\ub274\uba85",htmlFor:"menu-name-search",children:(0,b.jsx)(r.A,{id:"menu-name-search",value:U,onChange:e=>z(e.target.value),sx:{width:"200px"},placeholder:"\uba54\ub274\uba85 \ub610\ub294 ID"})}),(0,b.jsx)(j.Y9,{onClick:()=>{if(!U.trim())return void w(e);const l=e.filter(e=>e.menu_name.toLowerCase().includes(U.toLowerCase())||e.id.toLowerCase().includes(U.toLowerCase()));w(l)}})]}),(0,b.jsxs)(i.A,{sx:{display:"flex",flexGrow:1,gap:3,overflow:"hidden"},children:[(0,b.jsxs)(i.A,{sx:{flex:4,display:"flex",flexDirection:"column"},children:[(0,b.jsx)(u.aq,{title:"\uba54\ub274 \ubaa9\ub85d (".concat(t.length,"\uac1c)"),children:O&&(0,b.jsx)(s.A,{size:20})}),(0,b.jsx)(m.A,{rows:t,columns:g,sx:{flexGrow:1},hideFooter:!0,showRowNumber:!0,onRowClick:e=>{C(e.row)},loading:O,paginationModel:{page:0,pageSize:100}})]}),(0,b.jsxs)(i.A,{sx:{flex:3,display:"flex",flexDirection:"column",gap:3},children:[(0,b.jsxs)(i.A,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,b.jsx)(u.aq,{title:"\uae30\ubcf8 OBJ \ub9ac\uc2a4\ud2b8 (".concat(S.length,"\uac1c)")}),(0,b.jsx)(m.A,{rows:S,columns:v,sx:{flexGrow:1},hideFooter:!0,showRowNumber:!0,onRowClick:e=>{const l=e.row;F(l),E({id:l.id,object_name:l.object_name,action_url:l.action_url,action_type:l.action_type,sort_order:l.sort_order,log_yn:l.log_yn?"true":"false"}),Y(!1)},loading:O,paginationModel:{page:0,pageSize:50}})]}),(0,b.jsxs)(i.A,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,b.jsx)(u.aq,{title:"\ucd94\uac00 OBJ \ub9ac\uc2a4\ud2b8 (".concat(D.length,"\uac1c)")}),(0,b.jsx)(m.A,{rows:D,columns:v,sx:{flexGrow:1},hideFooter:!0,showRowNumber:!0,onRowClick:e=>{const l=e.row;W(l),P({id:l.id,object_name:l.object_name,action_url:l.action_url,action_type:l.action_type,sort_order:l.sort_order,log_yn:l.log_yn?"true":"false"}),K(!1)},loading:O,paginationModel:{page:0,pageSize:50}})]})]}),(0,b.jsxs)(i.A,{sx:{flex:3,display:"flex",flexDirection:"column",gap:3},children:[(0,b.jsxs)(i.A,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,b.jsxs)(u.aq,{title:"\uae30\ubcf8 OBJ",children:[(0,b.jsx)(j.M3,{onClick:()=>{A?(F(null),E((0,a.A)((0,a.A)({},y),{},{sort_order:S.length+1})),Y(!0)):L("\uba54\ub274\ub97c \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},disabled:!A}),(0,b.jsx)(j.et,{onClick:async()=>{if(!N)return void L("\uc0ad\uc81c\ud560 \uc624\ube0c\uc81d\ud2b8\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");if(!window.confirm("\uc120\ud0dd\ud55c \uc624\ube0c\uc81d\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return;q(!0);const{error:e}=await f.c8.deleteMenuObject(N.id);e?L(e):(I("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),F(null),E(y),A&&await X(A.id)),q(!1),setTimeout(()=>I(null),3e3)},disabled:!N}),(0,b.jsx)(j.yY,{onClick:async()=>{if(!A)return void L("\uba54\ub274\ub97c \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");if(!J.object_name||!J.action_url)return void L("\ud544\uc218 \ud56d\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");q(!0),L(null);const e={menu_id:A.id,object_name:J.object_name,action_url:J.action_url,action_type:J.action_type,sort_order:Number(J.sort_order),log_yn:"true"===J.log_yn,obj_type:"basic"};if(N){const{error:l}=await f.c8.updateMenuObject(N.id,e);l?L(l):(I("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),await X(A.id))}else{const{error:l}=await f.c8.createMenuObject(e);l?L(l):(I("\uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),await X(A.id))}Y(!1),q(!1),setTimeout(()=>I(null),3e3)},disabled:!T||O})]}),(0,b.jsxs)(i.A,{sx:{border:"1px solid",borderColor:"divider",flexGrow:1,display:"flex",flexDirection:"column",overflow:"auto"},children:[(0,b.jsx)(h.F,{label:"\uc624\ube0c\uc81d\ud2b8\uba85",required:!0,children:(0,b.jsx)(r.A,{fullWidth:!0,variant:"outlined",name:"object_name",value:J.object_name,onChange:Z,disabled:!A})}),(0,b.jsx)(h.F,{label:"\uc561\uc158 URL",required:!0,children:(0,b.jsx)(r.A,{fullWidth:!0,variant:"outlined",name:"action_url",value:J.action_url,onChange:Z,disabled:!A})}),(0,b.jsx)(h.F,{label:"\uc815\ub82c\uc21c\ubc88",children:(0,b.jsx)(r.A,{fullWidth:!0,variant:"outlined",type:"number",name:"sort_order",value:J.sort_order,onChange:Z,disabled:!A})}),(0,b.jsx)(h.F,{label:"\ub3d9\uc791\uad6c\ubd84",children:(0,b.jsx)(d.A,{fullWidth:!0,name:"action_type",value:J.action_type,onChange:$,disabled:!A,children:_.map(e=>(0,b.jsx)(c.A,{value:e.value,children:e.label},e.value))})}),(0,b.jsx)(h.F,{label:"\ub85c\uadf8",children:(0,b.jsx)(d.A,{fullWidth:!0,name:"log_yn",value:J.log_yn,onChange:$,disabled:!A,children:p.map(e=>(0,b.jsx)(c.A,{value:e.value,children:e.label},e.value))})})]})]}),(0,b.jsxs)(i.A,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,b.jsxs)(u.aq,{title:"\ucd94\uac00 OBJ",children:[(0,b.jsx)(j.M3,{onClick:()=>{A?(W(null),P((0,a.A)((0,a.A)({},y),{},{sort_order:D.length+1})),K(!0)):L("\uba54\ub274\ub97c \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},disabled:!A}),(0,b.jsx)(j.et,{onClick:async()=>{if(!R)return void L("\uc0ad\uc81c\ud560 \uc624\ube0c\uc81d\ud2b8\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");if(!window.confirm("\uc120\ud0dd\ud55c \uc624\ube0c\uc81d\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return;q(!0);const{error:e}=await f.c8.deleteMenuObject(R.id);e?L(e):(I("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),W(null),P(y),A&&await X(A.id)),q(!1),setTimeout(()=>I(null),3e3)},disabled:!R}),(0,b.jsx)(j.yY,{onClick:async()=>{if(!A)return void L("\uba54\ub274\ub97c \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");if(!H.object_name||!H.action_url)return void L("\ud544\uc218 \ud56d\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");q(!0),L(null);const e={menu_id:A.id,object_name:H.object_name,action_url:H.action_url,action_type:H.action_type,sort_order:Number(H.sort_order),log_yn:"true"===H.log_yn,obj_type:"additional"};if(R){const{error:l}=await f.c8.updateMenuObject(R.id,e);l?L(l):(I("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),await X(A.id))}else{const{error:l}=await f.c8.createMenuObject(e);l?L(l):(I("\uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),await X(A.id))}K(!1),q(!1),setTimeout(()=>I(null),3e3)},disabled:!V||O})]}),(0,b.jsxs)(i.A,{sx:{border:"1px solid",borderColor:"divider",flexGrow:1,display:"flex",flexDirection:"column",overflow:"auto"},children:[(0,b.jsx)(h.F,{label:"\uc624\ube0c\uc81d\ud2b8\uba85",required:!0,children:(0,b.jsx)(r.A,{fullWidth:!0,variant:"outlined",name:"object_name",value:H.object_name,onChange:ee,disabled:!A})}),(0,b.jsx)(h.F,{label:"\uc561\uc158 URL",required:!0,children:(0,b.jsx)(r.A,{fullWidth:!0,variant:"outlined",name:"action_url",value:H.action_url,onChange:ee,disabled:!A})}),(0,b.jsx)(h.F,{label:"\uc815\ub82c\uc21c\ubc88",children:(0,b.jsx)(r.A,{fullWidth:!0,variant:"outlined",type:"number",name:"sort_order",value:H.sort_order,onChange:ee,disabled:!A})}),(0,b.jsx)(h.F,{label:"\ub3d9\uc791\uad6c\ubd84",children:(0,b.jsx)(d.A,{fullWidth:!0,name:"action_type",value:H.action_type,onChange:le,disabled:!A,children:_.map(e=>(0,b.jsx)(c.A,{value:e.value,children:e.label},e.value))})}),(0,b.jsx)(h.F,{label:"\ub85c\uadf8",children:(0,b.jsx)(d.A,{fullWidth:!0,name:"log_yn",value:H.log_yn,onChange:le,disabled:!A,children:p.map(e=>(0,b.jsx)(c.A,{value:e.value,children:e.label},e.value))})})]})]})]})]})]})}},58227:(e,l,t)=>{t.d(l,{F:()=>s});var a=t(89379),n=(t(9950),t(27321)),i=t(7356),o=t(87248),r=t(44414);const s=e=>{let{label:l,children:t,required:s=!1,sx:d}=e;const c=(0,i.A)();return(0,r.jsxs)(n.A,{sx:(0,a.A)({display:"flex",borderBottom:"1px solid ".concat(c.palette.divider)},d),children:[(0,r.jsx)(n.A,{component:"label",sx:{width:170,flexShrink:0,bgcolor:"action.hover",pl:3,display:"flex",alignItems:"center",borderRight:"1px solid ".concat(c.palette.divider)},children:(0,r.jsxs)(o.cP,{component:"span",sx:{fontWeight:500},children:[l,s&&(0,r.jsx)(n.A,{component:"span",sx:{color:"error.main",ml:.5},children:"*"})]})}),(0,r.jsx)(n.A,{sx:{flex:1,p:1,display:"flex",alignItems:"center","& .MuiInputBase-root":{height:"34px"},"& .MuiInputBase-multiline":{height:"auto"}},children:t})]})}}}]);
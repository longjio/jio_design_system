"use strict";(self.webpackChunkjio_design_system=self.webpackChunkjio_design_system||[]).push([[817],{817:(e,l,a)=>{a.r(l),a.d(l,{default:()=>C});var i=a(89379),t=a(9950),n=a(27321),r=a(32284),s=a(56141),o=a(94837),d=a(91651),c=a(6503),u=a(11739),h=a(67479),x=a(58227),m=a(17859),v=a(32899),p=a(33176),f=a(44414);const j=[{field:"email",headerName:"\uc774\uba54\uc77c",width:200},{field:"name",headerName:"\uc0ac\uc6a9\uc790\uba85",width:100,align:"center"},{field:"department",headerName:"\ubd80\uc11c",width:120},{field:"company",headerName:"\ud68c\uc0ac",width:120},{field:"role",headerName:"\uc5ed\ud560",width:80,align:"center"},{field:"is_active",headerName:"\uc0c1\ud0dc",width:80,align:"center",valueGetter:e=>e?"\ud65c\uc131":"\ube44\ud65c\uc131"},{field:"description",headerName:"\uc124\uba85",flex:1,minWidth:150},{field:"created_at",headerName:"\ub4f1\ub85d\uc77c\uc2dc",width:150,valueGetter:e=>e?new Date(e).toLocaleString("ko-KR"):""},{field:"updated_at",headerName:"\uc218\uc815\uc77c\uc2dc",width:150,valueGetter:e=>e?new Date(e).toLocaleString("ko-KR"):""}],b=[{value:"all",label:"\uc804\uccb4"},{value:"admin",label:"\uad00\ub9ac\uc790"},{value:"user",label:"\uc0ac\uc6a9\uc790"}],g=[{value:"all",label:"\uc804\uccb4"},{value:"active",label:"\ud65c\uc131"},{value:"inactive",label:"\ube44\ud65c\uc131"}],w=[{value:"admin",label:"\uad00\ub9ac\uc790"},{value:"user",label:"\uc0ac\uc6a9\uc790"}],A=[{value:"true",label:"\ud65c\uc131"},{value:"false",label:"\ube44\ud65c\uc131"}];function C(){const[e,l]=(0,t.useState)([]),[a,C]=(0,t.useState)([]),[y,S]=(0,t.useState)(null),[_,k]=(0,t.useState)(!1),[F,W]=(0,t.useState)(null),[N,z]=(0,t.useState)(null),[D,G]=(0,t.useState)("all"),[L,R]=(0,t.useState)("all"),[q,I]=(0,t.useState)(""),[B,M]=(0,t.useState)(""),[P,K]=(0,t.useState)({id:"",email:"",name:"",department:"",company:"",role:"user",is_active:"true",description:""}),U=(0,t.useCallback)(async()=>{k(!0),W(null);const{profiles:e,error:a}=await p.gu.getProfiles();a?W(a):(l(e),C(e)),k(!1)},[]);(0,t.useEffect)(()=>{U()},[U]);const Y=e=>{const{name:l,value:a}=e.target;K(e=>(0,i.A)((0,i.A)({},e),{},{[l]:a}))},E=e=>{const{name:l,value:a}=e.target;K(e=>(0,i.A)((0,i.A)({},e),{},{[l]:a}))};return(0,f.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:0,p:3},children:[(0,f.jsxs)(u.od,{title:"\uc0ac\uc6a9\uc790 \uad00\ub9ac",children:[(0,f.jsx)(v.WU,{onClick:()=>alert("\uc778\uc1c4 \ubc84\ud2bc \ud074\ub9ad")}),(0,f.jsx)(v.U9,{onClick:()=>{G("all"),R("all"),I(""),M(""),C(e)}})]}),F&&(0,f.jsx)(r.A,{severity:"error",sx:{mb:2},onClose:()=>W(null),children:F}),N&&(0,f.jsx)(r.A,{severity:"success",sx:{mb:2},onClose:()=>z(null),children:N}),(0,f.jsxs)(u.q,{children:[(0,f.jsx)(h.z,{label:"\uc5ed\ud560",htmlFor:"role-search",children:(0,f.jsx)(s.A,{id:"role-search",value:D,onChange:e=>G(e.target.value),sx:{width:"150px"},children:b.map(e=>(0,f.jsx)(o.A,{value:e.value,children:e.label},e.value))})}),(0,f.jsx)(h.z,{label:"\uc0c1\ud0dc",htmlFor:"status-search",children:(0,f.jsx)(s.A,{id:"status-search",value:L,onChange:e=>R(e.target.value),sx:{width:"150px"},children:g.map(e=>(0,f.jsx)(o.A,{value:e.value,children:e.label},e.value))})}),(0,f.jsx)(h.z,{label:"\uc774\uba54\uc77c",htmlFor:"email-search",children:(0,f.jsx)(d.A,{id:"email-search",value:q,onChange:e=>I(e.target.value),sx:{width:"200px"}})}),(0,f.jsx)(h.z,{label:"\uc0ac\uc6a9\uc790\uba85",htmlFor:"user-name-search",children:(0,f.jsx)(d.A,{id:"user-name-search",value:B,onChange:e=>M(e.target.value),sx:{width:"200px"}})}),(0,f.jsx)(v.Y9,{onClick:()=>{let l=[...e];if("all"!==D&&(l=l.filter(e=>e.role===D)),"all"!==L){const e="active"===L;l=l.filter(l=>l.is_active===e)}q&&(l=l.filter(e=>{var l;return null===(l=e.email)||void 0===l?void 0:l.toLowerCase().includes(q.toLowerCase())})),B&&(l=l.filter(e=>{var l;return null===(l=e.name)||void 0===l?void 0:l.toLowerCase().includes(B.toLowerCase())})),C(l)}})]}),(0,f.jsxs)(n.A,{sx:{display:"flex",flexGrow:1,gap:3,mt:3,overflow:"hidden"},children:[(0,f.jsxs)(n.A,{sx:{flex:7.5,display:"flex",flexDirection:"column",minWidth:0},children:[(0,f.jsx)(u.aq,{title:"\uc0ac\uc6a9\uc790 \ubaa9\ub85d (".concat(a.length,"\uba85)"),children:_&&(0,f.jsx)(c.A,{size:20})}),(0,f.jsx)(m.A,{rows:a,columns:j,sx:{flexGrow:1},showRowNumber:!0,hideFooter:!0,onRowClick:e=>{const l=e.row;S(l),K({id:l.id,email:l.email||"",name:l.name||"",department:l.department||"",company:l.company||"",role:l.role||"user",is_active:l.is_active?"true":"false",description:l.description||""})},loading:_,paginationModel:{page:0,pageSize:100}})]}),(0,f.jsxs)(n.A,{sx:{flex:2.5,display:"flex",flexDirection:"column"},children:[(0,f.jsx)(u.aq,{title:"\uc0ac\uc6a9\uc790 \uc0c1\uc138 \uc815\ubcf4",children:(0,f.jsx)(v.yY,{onClick:async()=>{if(!y)return void W("\uc218\uc815\ud560 \uc0ac\uc6a9\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");k(!0),W(null),z(null);const{profile:e,error:l}=await p.gu.updateProfile(P.id,{name:P.name,department:P.department,company:P.company,role:P.role,is_active:"true"===P.is_active,description:P.description});l?W(l):e&&(z("\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),await U(),setTimeout(()=>z(null),3e3)),k(!1)},disabled:!y||_})}),(0,f.jsxs)(n.A,{sx:{border:"1px solid",borderColor:"divider",flexGrow:1,display:"flex",flexDirection:"column",overflow:"auto"},children:[(0,f.jsx)(x.F,{label:"\uc774\uba54\uc77c",children:(0,f.jsx)(d.A,{fullWidth:!0,variant:"outlined",name:"email",value:P.email,disabled:!0})}),(0,f.jsx)(x.F,{label:"\uc0ac\uc6a9\uc790\uba85",children:(0,f.jsx)(d.A,{fullWidth:!0,variant:"outlined",name:"name",value:P.name,onChange:Y})}),(0,f.jsx)(x.F,{label:"\ubd80\uc11c",children:(0,f.jsx)(d.A,{fullWidth:!0,variant:"outlined",name:"department",value:P.department,onChange:Y})}),(0,f.jsx)(x.F,{label:"\ud68c\uc0ac",children:(0,f.jsx)(d.A,{fullWidth:!0,variant:"outlined",name:"company",value:P.company,onChange:Y})}),(0,f.jsx)(x.F,{label:"\uc5ed\ud560",children:(0,f.jsx)(s.A,{fullWidth:!0,name:"role",value:P.role,onChange:E,children:w.map(e=>(0,f.jsx)(o.A,{value:e.value,children:e.label},e.value))})}),(0,f.jsx)(x.F,{label:"\uc0c1\ud0dc",children:(0,f.jsx)(s.A,{fullWidth:!0,name:"is_active",value:P.is_active,onChange:E,children:A.map(e=>(0,f.jsx)(o.A,{value:e.value,children:e.label},e.value))})}),(0,f.jsx)(x.F,{label:"\uc124\uba85",children:(0,f.jsx)(d.A,{fullWidth:!0,multiline:!0,rows:2,variant:"outlined",name:"description",value:P.description,onChange:Y})})]})]})]})]})}},58227:(e,l,a)=>{a.d(l,{F:()=>o});var i=a(89379),t=(a(9950),a(27321)),n=a(7356),r=a(87248),s=a(44414);const o=e=>{let{label:l,children:a,required:o=!1,sx:d}=e;const c=(0,n.A)();return(0,s.jsxs)(t.A,{sx:(0,i.A)({display:"flex",borderBottom:"1px solid ".concat(c.palette.divider)},d),children:[(0,s.jsx)(t.A,{component:"label",sx:{width:170,flexShrink:0,bgcolor:"action.hover",pl:3,display:"flex",alignItems:"center",borderRight:"1px solid ".concat(c.palette.divider)},children:(0,s.jsxs)(r.cP,{component:"span",sx:{fontWeight:500},children:[l,o&&(0,s.jsx)(t.A,{component:"span",sx:{color:"error.main",ml:.5},children:"*"})]})}),(0,s.jsx)(t.A,{sx:{flex:1,p:1,display:"flex",alignItems:"center","& .MuiInputBase-root":{height:"34px"},"& .MuiInputBase-multiline":{height:"auto"}},children:a})]})}}}]);